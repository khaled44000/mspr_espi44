<!DOCTYPE html>
<script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
<script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<body style='margin : 0px; overflow: hidden; font-family: Monospace;'>

	<div style='display: none; position: fixed; top: 10px; width:100%; text-align: center; z-index: 1;'>
		<a href="https://github.com/jeromeetienne/AR.js/" target="_blank">AR.js</a> - example for a-frame
        <br/>
        Contact me any time at <a href='https://twitter.com/jerome_etienne' target='_blank'>@Maehdi49</a>
	</div>
		<a-scene embedded arjs='trackingMethod: best; debugUIEnabled: false; 'id="gltfModel">
		<a-entity light="type: ambient; intensity: 4;"></a-entity>
		<a-marker type='pattern' url='markers/mspr.patt'>
			<a-gltf-model id="rino" src="models/rino2.gltf" scale="0.5 0.5 0.5" position="0 0.75 0"  rotation="0 180 0" ></a-gltf-model>
		</a-marker>
		<a-marker type='pattern' url='markers/1.patt'>
			<a-gltf-model id="snake" src="models/simplesnake.gltf" scale="0.5 0.5 0.5" position="0 0.75 0"  rotation="0 180 0" ></a-gltf-model>
		</a-marker>
		<a-camera-static />
	</a-scene>
	
	<script>
		let model = document.getElementById("rino")
		
		let texture = new THREE.TextureLoader().load('textures/rino2.png');
		texture.flipY = false; // for glTF models.

		model.addEventListener('model-loaded', (e) => {
		  e.detail.model.traverse( (node) => {
			if (node.isMesh) node.material.map = texture;
		  })
		})
		
		const model2 = document.getElementById("snake")
		
		const texture2 = new THREE.TextureLoader().load('textures/simplesnake.png');
		texture2.flipY = false; // for glTF models.

		model2.addEventListener('model-loaded', (e) => {
		  e.detail.model.traverse( (node) => {
			if (node.isMesh) node.material.map = texture2;
		  })
		})

		const marker = document.querySelector('a-marker')
		
		/*marker.addEventListener('markerFound', () => alert('marker found'))

		marker.addEventListener('markerLost', () => alert('marker lost'))*/
		
		//setInterval(() => console.log(marker.position, marker.object3D.position), 1000)
	</script>
</body>
</html>
